<div class="flex flex-1 items-center justify-start w-full gap-4 lg:gap-8 p-2 select-none">

    <!-- Task type (spotify icon) -->
    <div class="min-w-6 w-6 text-center">
        <fa-icon [icon]="['fab', 'spotify']" size="xl"></fa-icon>
    </div>
    
    <!-- Playlist Artwork with title -->
    <div class="flex-grow p-2 rounded-sm hover:bg-body-light active:bg-body-lighter cursor-pointer transition-all" *ngIf="task.payload">
        <div class="flex flex-1 items-center justify-start gap-3 select-none" [routerLink]="['/playlist', task.payload.id]">
            <div class="min-w-11 w-11 h-11 overflow-hidden rounded-full">
                <scngx-artwork [artwork]="task.payload?.artwork"></scngx-artwork>
            </div>

            <div>
                <p class="line-clamp-1">{{ task.payload?.name ?? 'Unbekannter Titel' }}</p>
                <p class="line-clamp-1 text-sm opacity-70 font-light">by {{ task.payload?.author?.name ?? 'Unbekannter Autor' }}</p>
            </div>
        </div>
    </div>

    <!-- Display URL and ID as alternative if there is no payload -->
    <div class="flex-grow" *ngIf="!task.payload">
        <a target="_blank" [href]="task.url"><p class="line-clamp-1 hover:underline cursor-pointer break-words">{{ task.url ?? 'Unbekannter URL' }}</p></a>
        <p class="line-clamp-1 text-sm opacity-70 font-light">ID: {{ task.id ?? 'Unbekannte ID' }}</p>
    </div>

    <!-- Show report button (only for failed) -->
    <div class="min-w-36 text-center" *ngIf="task.report">
        <p class="text-sm"><scngx-btn-outlined size="sm" (click)="openReport.emit()">Bericht ansehen</scngx-btn-outlined></p>
    </div>

    <!-- Task status -->
    <div class="min-w-28 text-center">
        <p class="text-sm">{{ task.status | taskStatusPipe }}</p>
    </div>
</div>